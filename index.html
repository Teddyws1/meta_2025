<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <!-- ===================== METADADOS ===================== -->
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>Meta_up 2026</title>

    <!-- ===================== PWA CONFIG ===================== -->
    <link rel="manifest" href="manifest.json" />
    <meta name="theme-color" content="#000000" />

    <!-- ===================== FAVICONS ===================== -->
    <link
      rel="shortcut icon"
      href="imgs/sem_fundo_mt_natal/favicon.ico"
      type="image/x-icon"
    />
    <link id="dynamic-favicon" rel="icon" href="/icon-v2.png" />

    <!-- ===================== ARQUIVOS CSS ===================== -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="styles.css" />

    <!-- ===================== ARQUIVOS JS ===================== -->
    <script src="script.js" defer></script>
  </head>
  <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
<script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>

  <!-- ============================================================
     CORPO DA APLICAÇÃO
============================================================ -->
  <body class="p-4 sm:p-8">
    <!-- ===================== CONTAINER PRINCIPAL ===================== -->
    <div class="max-w-xl mx-auto container-bg rounded-xl shadow-2xl p-6 sm:p-8">
      <!-- ===================== CABEÇALHO ===================== -->
      <header class="titulo-container">
        <!-- OVERLAY DO SIDEBAR -->
        <div class="sidebar-overlay" onclick="toggleSidebar()"></div>

        <!-- TÍTULO -->
        <h1 class="titulo-metatup">Meta<span>_up</span> 2026</h1>

        <!-- SUBTÍTULO -->
        <p class="subtitulo">
  <span class="destaque-verde">Acompanhe</span>
  seu progresso e suas
  <span class="destaque-branco">metas financeiras</span>
</p>

      </header>

      <!-- ===================== BARRA DE ABAS ===================== -->
      <div class="flex justify-center mb-6">
        <div
          id="tab-buttons-container"
          class="flex p-1 rounded-xl bg-[var(--bg-principal)]"
        >
          <!-- ABA: MINHA META -->
          <button class="tab-button inactive-tab meta-tab" data-tab="meta">
            Minha Meta
          </button>

          <!-- ABA: MEUS DEPÓSITOS -->
          <button
            class="tab-button inactive-tab ml-2 depositos-tab"
            data-tab="depositos"
          >
            Meus Depósitos
          </button>

          <!-- ABA: CALCULADORA -->
      
        </div>
      </div>

      <!-- ============================================================
             ABA: MINHA META
        ============================================================ -->
      <div id="tab-meta" class="tab-content active">
        <!-- SEÇÃO: DEFINIR NOVA META -->
        <section class="mb-8">
          <h2
            class="text-lg font-semibold text-[var(--text-light)] mb-4"
            id="goal-section-title"
          >
            Definir Nova Meta
          </h2>

          <!-- ÁREA DE INPUTS PARA CADASTRAR META -->
          <div id="goal-input-section">
            <div class="flex flex-col gap-4">
              <!-- CAMPO: VALOR DA META -->
              <div>
                <label
                  for="goal-amount"
                  class="block text-sm font-medium text-[#8b949e] mb-1"
                >
                  Valor do Objetivo (R$)
                </label>
                <div class="relative">
                  <span
                    class="absolute left-3 top-1/2 -translate-y-1/2 text-[#6fcf97] font-bold text-lg"
                  >
                    R$
                  </span>
                  <input
                    type="number"
                    id="goal-amount"
                    placeholder="0.00"
                    class="custom-input w-full pl-10 pr-4 text-xl font-bold text-white py-3 focus:border-green-400 focus:shadow-md"
                    min="0"
                    step="0.01"
                  />
                </div>
              </div>

              <!-- CAMPO: DESCRIÇÃO -->
              <div>
                <label
                  for="goal-description"
                  class="block text-sm font-medium text-[#8b949e] mb-1"
                >
                  Descrição da Meta
                </label>
                <input
                  type="text"
                  id="goal-description"
                  placeholder="Ex: Viagem para Europa 2026"
                  class="custom-input w-full"
                />
              </div>

              <!-- CAMPOS: DATAS -->
              <div class="flex flex-col sm:flex-row gap-4">
                <!-- DATA INÍCIO -->
                <div class="w-full sm:w-1/2">
                  <label
                    for="goal-start-date"
                    class="block text-sm font-medium text-[#8b949e] mb-1"
                  >
                    Data de Início
                  </label>
                  <input
                    type="date"
                    id="goal-start-date"
                    class="custom-input w-full"
                  />
                </div>

                <!-- DATA LIMITE -->
                <div class="w-full sm:w-1/2">
                  <label
                    for="goal-deadline"
                    class="block text-sm font-medium text-[#8b949e] mb-1"
                  >
                    Data Limite
                  </label>
                  <input
                    type="date"
                    id="goal-deadline"
                    class="custom-input w-full"
                  />
                </div>
              </div>

              <!-- BOTÃO: SALVAR META -->
            <button
  id="save-goal-btn"
  class="w-full text-white font-bold py-3 rounded-lg primary-button text-lg flex items-center justify-center gap-2"
>
  Salvar Meta
   <ion-icon name="save-outline"></ion-icon>
</button>

            </div>
          </div>

          <!-- ÁREA DE EXIBIÇÃO DA META JÁ SALVA -->
          <div id="goal-display-section" class="hidden text-center">
            <p id="display-goal-amount" class="text-2xl font-bold text-white">
              R$ 0,00
            </p>
            <p
              id="display-goal-description"
              class="text-sm text-[#8b949e] mb-2"
            >
              Sem descrição definida.
            </p>
            <p
              id="display-goal-deadline"
              class="text-xs text-yellow-400 font-bold mb-4"
            ></p>

          <button onclick="toggleGoalEdit(true)" class="btn-edit-goal flex items-center justify-center gap-2">
  <ion-icon name="create-outline"></ion-icon>
  Editar
</button>

          </div>
        </section>

        <!-- SEPARADOR -->
        <hr class="border-[var(--border-color)] my-8" />

        <!-- ===================== SEÇÃO: PROGRESSO ===================== -->
        <section class="mb-8">
          <h2 class="text-xl font-bold text-white mb-5">Progresso da Meta</h2>

          <!-- VALOR ARRECADADO (TOP) -->
          <div class="flex justify-end mb-2">
            <span
              id="saved-amount-display-top"
              class="text-sm font-semibold text-white"
            >
              Arrecadado: R$ 0.00
            </span>
          </div>

          <!-- BARRA DE PROGRESSO -->
          <div
            class="w-full progress-bar-bg rounded-full h-8 overflow-hidden relative mb-4"
          >
            <div id="progress-bar-fill" class="progress-bar-fill"></div>
            <span
              id="progress-percent-display"
              class="absolute inset-0 flex items-center justify-center text-white font-extrabold text-xl z-10"
            >
              0.0%
            </span>
          </div>

          <!-- RÓTULOS DA BARRA -->
          <div
            class="flex justify-between text-sm font-medium text-[#8b949e] mt-1"
          >
            <span id="start-label">R$ 0.00</span>
            <span id="end-label">R$ 0.00</span>
          </div>
        </section>

        <!-- SEPARADOR -->
        <hr class="border-[var(--border-color)] my-8" />

        <!-- ===================== SEÇÃO: CARDS RESUMO ===================== -->
     <section class="grid grid-cols-2 gap-4 mb-8">

  <!-- CARD: META TOTAL -->
  <div class="info-card p-4 text-center">
    <p class="text-xs text-[#8b949e] mb-1 flex items-center justify-center gap-1">
      <ion-icon name="trophy-outline"></ion-icon>
      Meta Total
    </p>
    <p id="meta-total-card" class="text-lg font-bold value-meta">
      R$ 0.00
    </p>
  </div>

  <!-- CARD: VALOR ARRECADADO -->
  <div class="info-card p-4 text-center">
    <p class="text-xs text-[#8b949e] mb-1 flex items-center justify-center gap-1">
      <ion-icon name="wallet-outline"></ion-icon>
      Valor Arrecadado
    </p>
    <p id="valor-arrecadado-card" class="text-lg font-bold value-saved">
      R$ 0.00
    </p>
  </div>

  <!-- CARD: PORCENTAGEM CONCLUÍDA -->
  <div class="info-card p-4 text-center">
    <p class="text-xs text-[#8b949e] mb-1 flex items-center justify-center gap-1">
      <ion-icon name="stats-chart-outline"></ion-icon>
      Porcentagem Concluída
    </p>
    <p
      id="percent-complete-card"
      class="text-lg font-bold percent-complete"
    >
      0%
    </p>
  </div>

  <!-- CARD: VALOR RESTANTE -->
  <div class="info-card p-4 text-center">
    <p class="text-xs text-[#8b949e] mb-1 flex items-center justify-center gap-1">
      <ion-icon name="cash-outline"></ion-icon>
      Valor Restante
    </p>
    <p
      id="valor-restante-card"
      class="text-lg font-bold value-remaining"
    >
      R$ 0.00
    </p>
  </div>

</section>


        <!-- ===================== SEÇÃO: TEMPO ===================== -->
       <section class="grid grid-cols-2 gap-4">

  <!-- CARD: DIAS RESTANTES -->
  <div class="info-card p-4 text-center">
    <p class="text-xs text-[#8b949e] mb-1 flex items-center justify-center gap-1">
      <ion-icon name="hourglass-outline"></ion-icon>
      Dias Restantes
    </p>
    <p id="dias-restantes-card" class="text-lg font-bold text-red-400">
      --
    </p>
  </div>

  <!-- CARD: DURAÇÃO TOTAL -->
  <div class="info-card p-4 text-center">
    <p class="text-xs text-[#8b949e] mb-1 flex items-center justify-center gap-1">
      <ion-icon name="calendar-outline"></ion-icon>
      Duração Total (Dias)
    </p>
    <p id="duracao-total-card" class="text-lg font-bold text-blue-400">
      --
    </p>
  </div>

</section>
      </div>

      <!-- ============================================================
             ABA: DEPÓSITOS
        ============================================================ -->
      <div id="tab-depositos" class="tab-content hidden">
        <!-- TÍTULO DA ABA -->
        <h2 class="text-xl font-bold text-white mb-4">Registro de Depósitos</h2>

        <!-- SEÇÃO: ADICIONAR DEPÓSITO -->
        <div class="info-card p-6 mb-6">
          <h3 class="font-semibold text-lg text-white mb-4">
            Adicionar Novo Depósito
          </h3>

          <!-- FORMULÁRIO DE DEPÓSITO -->
          <form id="deposit-form">
            <div class="flex flex-col gap-4">
              <!-- LINHA: VALOR + DATA -->
              <div class="flex flex-col sm:flex-row gap-4">
                <!-- CAMPO: VALOR -->
                <div>
                  <label
                    for="deposit-amount"
                    class="text-sm font-medium text-[#8b949e]"
                  >
                    Valor (R$)
                  </label>
                  <input
                    type="number"
                    id="deposit-amount"
                    class="custom-input"
                    placeholder="R$0.00"
                    min="0.01"
                    step="0.01"
                    required
                  />
                </div>

                <!-- CAMPO: DATA -->
                <div class="w-full sm:w-1/3">
                  <label
                    for="deposit-date"
                    class="text-sm font-medium text-[#8b949e]"
                  >
                    Data
                  </label>
                  <input
                    type="date"
                    id="deposit-date"
                    class="custom-input"
                    required
                  />
                  <input
                    type="time"
                    id="deposit-time"
                    class="input-time hidden"
                    placeholder="Selecione o horário"
                  />
                </div>
              </div>

              <!-- LINHA: DESCRIÇÃO + BOTÃO -->
              <div class="flex flex-col sm:flex-row items-end gap-4">
                <!-- CAMPO: DESCRIÇÃO -->
                <div class="flex-1">
                  <label
                    for="deposit-description"
                    class="text-sm font-medium text-[#8b949e]"
                  >
                    Descrição
                  </label>
                  <input
                    type="text"
                    id="deposit-description"
                    class="custom-input"
                    placeholder="Ex: Venda, metas,etc"
                  />
                </div>

                <!-- BOTÃO: ADICIONAR -->
                <button
                  type="submit"
                  id="add-deposit-btn"
                  class="primary-button text-white font-bold py-2 px-4 rounded-lg w-full sm:w-auto"
                >
                  Adicionar
                </button>
              </div>
            </div>
          </form>
        </div>

        <!-- SEÇÃO: HISTÓRICO DE TRANSAÇÕES -->
        <div class="flex justify-between items-center mb-3">
          <h3 class="font-semibold text-[var(--text-light)]">
            Histórico de Transações
          </h3>
          <button
            onclick="clearAllDeposits()"
            id="clear-deposits-btn"
            class="btn-clear-deposits"
          >
            Limpar Tudo
          </button>
        </div>

        <!-- TABELA DE HISTÓRICO -->
        <div class="info-card p-0 overflow-x-auto">
          <table class="w-full deposit-table">
            <thead>
              <tr>
                <th>Data/Hora</th>
                <th>Valor/Descrição</th>
                <th>Ação</th>
              </tr>
            </thead>
            <tbody id="deposits-list">
              <tr>
                <td colspan="3" class="text-center text-[#8b949e]">
                  Nenhum depósito registrado.
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>


    <!-- ===================== RODAPÉ E UTILITÁRIOS ===================== -->

    <!-- BOTÕES: EXPORTAR/IMPORTAR DADOS -->
    <div class="flex gap-3 mt-6 justify-center">
      <button onclick="exportData()" class="btn-edit-goal btn-export">
 <ion-icon name="cloud-download-outline"></ion-icon>

  Exportar Dados
</button>

<label class="btn-edit-goal btn-import">
  <ion-icon name="cloud-upload-outline"></ion-icon>
  Importar Dados
  <input type="file" accept=".json" onchange="importData(event)" hidden />
</label>

    </div>

    <!-- SEPARADOR -->
    <hr class="divider-gradient" />

    <!-- VERSÃO BETA -->
    <div class="version-sample">
    <h5 class="version-text">
  Ver mais sobre a versão
  <span>Clique em “BETA”</span>
</h5>

      <abbr title="ver mais">
        <h6 class="beta-text" id="openCard">Beta</h6>
      </abbr>
    </div>

 <!-- MODAL: INFORMAÇÕES BETA -->
<div id="overlay" class="overlay"></div>

<div id="card" class="modal-card">
  <button id="closeCard" class="close-btn">✕</button>

 <h2 class="titulo-beta">
  <ion-icon name="flask-outline"></ion-icon>
  Informações Beta
</h2>



<ul class="avisos-lista">

  <li class="item beta">
    <span class="icon icon-beta">
      <ion-icon name="alert-outline"></ion-icon>
    </span>
    Esta é uma versão beta, portanto alguns bugs e erros podem ocorrer.
  </li>

  <li class="item desenvolvimento">
    <span class="icon icon-desenvolvimento">
      <ion-icon name="hammer-outline"></ion-icon>
    </span>
    O sistema ainda está em fase de desenvolvimento.
  </li>

  <li class="item recomendacao">
    <span class="icon icon-recomendacao">
      <ion-icon name="bulb-outline"></ion-icon>
    </span>
    Recomendamos limpar o cache do navegador para garantir que você receba as atualizações mais recentes do sistema.
  </li>

  <li class="item aviso">
    <span class="icon icon-aviso">
      <ion-icon name="warning-outline"></ion-icon>
    </span>
    Pedimos a compreensão de todos durante esse período.
  </li>

</ul>

  <div class="versao-box">
    <span id="app-version">v 4.6.39</span>
  </div>
</div>


    <!-- ===================== COMPONENTES FLUTUANTES ===================== -->

    <!-- TOAST DE SUCESSO -->
    <div
      id="success-message"
      class="fixed bottom-5 left-1/2 -translate-x-1/2 p-4 rounded-lg text-white shadow-xl z-50 transition-all duration-500 opacity-0 pointer-events-none"
    >
      <p class="font-bold flex items-center">
        <svg
          class="w-6 h-6 mr-2"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"
          />
        </svg>
        Depósito Adicionado com Sucesso!
      </p>
    </div>

    <!-- MODAL DE EDIÇÃO DE DEPÓSITO -->
    <div
      id="edit-modal"
      class="fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center hidden"
    >
      <div
        class="bg-[var(--card-bg)] p-6 rounded-xl w-11/12 max-w-md border border-[var(--border-color)]"
      >
        <h3 class="text-xl font-bold text-white mb-4">Editar Depósito</h3>

        <form id="edit-form">
          <input type="hidden" id="edit-deposit-index" />

          <!-- CAMPO: VALOR -->
          <div class="mb-4">
            <label for="edit-amount" class="block text-sm font-medium mb-1"
              >Valor (R$)</label
            >
            <input
              type="number"
              id="edit-amount"
              class="custom-input w-full"
              min="0.01"
              step="0.01"
              required
            />
          </div>

          <!-- CAMPO: DATA -->
          <div class="mb-4">
            <label for="edit-date" class="block text-sm font-medium mb-1"
              >Data</label
            >
            <input
              type="date"
              id="edit-date"
              class="custom-input w-full"
              required
            />
          </div>

          <!-- CAMPO: HORA -->
          <div class="mb-4">
            <label for="edit-time" class="block text-sm font-medium mb-1"
              >Hora</label
            >
            <input
              type="time"
              id="edit-time"
              class="custom-input w-full"
              required
            />
          </div>

          <!-- CAMPO: DESCRIÇÃO -->
          <div class="mb-6">
            <label for="edit-description" class="block text-sm font-medium mb-1"
              >Descrição</label
            >
            <input
              type="text"
              id="edit-description"
              class="custom-input w-full"
              placeholder="Ex: Salário, Venda de item"
            />
          </div>

          <!-- BOTÕES: CANCELAR/SALVAR -->
          <div class="flex justify-end gap-3">
            <button
              type="button"
              onclick="closeEditModal()"
              class="py-2 px-4 rounded-lg text-[#8b949e] hover:bg-[#30363d]"
            >
              Cancelar
            </button>
            <button
              type="submit"
              class="primary-button text-white font-bold py-2 px-4 rounded-lg"
            >
              Salvar
            </button>
          </div>
        </form>
      </div>
    </div>
  </body>
</html>
